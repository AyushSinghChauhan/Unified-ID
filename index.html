<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
    <script src="https://unpkg.com/moralis/dist/moralis.js"></script>
    <link rel="stylesheet" href="./styles/main.css">
    <title>Document</title>
</head>

<body>
    <header >UNIFIED-ID</header>
    <div class="container" >
        <section>
            <img src="./user.png" style="width: 10vw;" alt="">
            <button id="login-btn">Click here to store your document</button>
        </section>

        <section>
            <img src="./user.png" style="width: 10vw;" alt="">
            <button id="institute-login">Login here if you're an institution</button>
            <br>
            Not registered?<a href="./institute/signup.html">Signup</a>
        </section>
    </div>
    <script src="../moralis.js"></script>
    <script>
        const loginBtn = document.getElementById('login-btn');
        const instituteLogin = document.getElementById('institute-login');


        async function userLogin() {
            try {
                let user = Moralis.User.current();
                if (!user) {
                    user = await Moralis.authenticate();
                }
                if (user) {
                    window.location.href = 'user.html';
                }
            } catch (error) {
                alert(error.message);
            }
        }
        loginBtn.addEventListener('click', userLogin);
        instituteLogin.addEventListener('click', () => {
            window.location.href = 'institute/index.html';
        });
    </script>
</body>

</html>